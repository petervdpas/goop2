{
    "schemes": [
        "http"
    ],
    "swagger": "2.0",
    "info": {
        "description": "All HTTP + MQ endpoints exposed by the goop2 viewer.\\n\\nAll peer-to-peer signaling travels through MQ (POST /api/mq/send → P2P → /api/mq/events SSE).\\nSee x-mq-topics in the raw spec (/api/openapi.json) for the full topic contract.",
        "title": "goop2 Viewer API",
        "contact": {},
        "version": "1.0.0"
    },
    "basePath": "/",
    "paths": {
        "/api/avatar": {
            "get": {
                "produces": [
                    "image/jpeg",
                    "image/png"
                ],
                "tags": [
                    "avatar"
                ],
                "summary": "Get own avatar image",
                "responses": {
                    "200": {
                        "description": "Image data",
                        "schema": {
                            "type": "string"
                        }
                    }
                }
            }
        },
        "/api/avatar/delete": {
            "delete": {
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "avatar"
                ],
                "summary": "Delete own avatar",
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/routes.statusOK"
                        }
                    }
                }
            }
        },
        "/api/avatar/peer/{id}": {
            "get": {
                "produces": [
                    "image/jpeg",
                    "image/png"
                ],
                "tags": [
                    "avatar"
                ],
                "summary": "Get a peer's avatar image",
                "parameters": [
                    {
                        "type": "string",
                        "description": "Peer ID",
                        "name": "id",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Image data",
                        "schema": {
                            "type": "string"
                        }
                    }
                }
            }
        },
        "/api/avatar/upload": {
            "post": {
                "consumes": [
                    "multipart/form-data"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "avatar"
                ],
                "summary": "Upload own avatar (multipart image)",
                "parameters": [
                    {
                        "type": "file",
                        "description": "Avatar image",
                        "name": "file",
                        "in": "formData",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "type": "object",
                            "additionalProperties": true
                        }
                    }
                }
            }
        },
        "/api/call/accept": {
            "post": {
                "description": "Creates the Go-side Pion PeerConnection for an incoming call.\\nGo sends call-ack via MQ; origin then connects MSE.\\nFlow: receive call-request via MQ → POST /api/call/accept → Go sends call-ack → origin's _handleCallAck → _connectNative()",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "call"
                ],
                "summary": "Accept an incoming Pion session (native mode, target)",
                "parameters": [
                    {
                        "description": "Accept request",
                        "name": "body",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/routes.callStartRequest"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/routes.callStartResponse"
                        }
                    }
                }
            }
        },
        "/api/call/active": {
            "get": {
                "description": "Returns non-hung sessions so the browser can restore the call overlay after page navigation.",
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "call"
                ],
                "summary": "List active Pion sessions (native mode)",
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "type": "array",
                            "items": {
                                "$ref": "#/definitions/routes.callSessionStatus"
                            }
                        }
                    }
                }
            }
        },
        "/api/call/debug": {
            "get": {
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "call"
                ],
                "summary": "Debug dump of all active sessions",
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "type": "object",
                            "additionalProperties": true
                        }
                    }
                }
            }
        },
        "/api/call/hangup": {
            "post": {
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "call"
                ],
                "summary": "Hang up a Pion session",
                "parameters": [
                    {
                        "description": "Hangup request",
                        "name": "body",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/routes.callChannelRequest"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/routes.statusOK"
                        }
                    }
                }
            }
        },
        "/api/call/loopback/{channel}/ice": {
            "post": {
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "call"
                ],
                "summary": "Send browser ICE candidates to Go LocalPC (Phase 4 loopback)",
                "parameters": [
                    {
                        "type": "string",
                        "description": "Channel ID",
                        "name": "channel",
                        "in": "path",
                        "required": true
                    },
                    {
                        "description": "ICE candidate",
                        "name": "body",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/routes.loopbackICERequest"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/routes.statusOK"
                        }
                    }
                }
            }
        },
        "/api/call/loopback/{channel}/offer": {
            "post": {
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "call"
                ],
                "summary": "Send browser SDP offer to Go LocalPC (Phase 4 loopback)",
                "parameters": [
                    {
                        "type": "string",
                        "description": "Channel ID",
                        "name": "channel",
                        "in": "path",
                        "required": true
                    },
                    {
                        "description": "SDP offer",
                        "name": "body",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/routes.loopbackOfferRequest"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/routes.loopbackOfferResponse"
                        }
                    }
                }
            }
        },
        "/api/call/media/{channel}": {
            "get": {
                "description": "Binary WebM frames sent over WebSocket. First message is the init segment; subsequent messages are clusters.\\nBrowser feeds these to MSE (MediaSource Extensions) for display.",
                "tags": [
                    "call"
                ],
                "summary": "WebSocket — live WebM stream of remote video/audio (native mode)",
                "parameters": [
                    {
                        "type": "string",
                        "description": "Channel ID",
                        "name": "channel",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "101": {
                        "description": "WebSocket upgrade",
                        "schema": {
                            "type": "string"
                        }
                    }
                }
            }
        },
        "/api/call/mode": {
            "get": {
                "description": "Returns native (Go/Pion active) or browser (standard WebRTC).\\nSafe to call regardless of whether the call feature is enabled.",
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "call"
                ],
                "summary": "Query call stack mode (native vs browser)",
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/routes.callModeResponse"
                        }
                    }
                }
            }
        },
        "/api/call/self/{channel}": {
            "get": {
                "description": "Binary WebM frames (VP8 video only, no audio track in init segment).\\nBrowser feeds to MSE for the local camera inset (PiP).",
                "tags": [
                    "call"
                ],
                "summary": "WebSocket — self-view WebM stream (local camera, Linux native only)",
                "parameters": [
                    {
                        "type": "string",
                        "description": "Channel ID",
                        "name": "channel",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "101": {
                        "description": "WebSocket upgrade",
                        "schema": {
                            "type": "string"
                        }
                    }
                }
            }
        },
        "/api/call/start": {
            "post": {
                "description": "Creates the Go-side Pion PeerConnection.\\nThe browser must call this before sending call-request via MQ.\\nFlow: POST /api/call/start → _sendMQ(call-request) → wait for call-ack → _connectNative()",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "call"
                ],
                "summary": "Register a new outbound Pion session (native mode, origin)",
                "parameters": [
                    {
                        "description": "Start request",
                        "name": "body",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/routes.callStartRequest"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/routes.callStartResponse"
                        }
                    }
                }
            }
        },
        "/api/call/toggle-audio": {
            "post": {
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "call"
                ],
                "summary": "Toggle local audio track mute (native mode)",
                "parameters": [
                    {
                        "description": "Channel",
                        "name": "body",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/routes.callChannelRequest"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/routes.callMuteResponse"
                        }
                    }
                }
            }
        },
        "/api/call/toggle-video": {
            "post": {
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "call"
                ],
                "summary": "Toggle local video track (native mode)",
                "parameters": [
                    {
                        "description": "Channel",
                        "name": "body",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/routes.callChannelRequest"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/routes.callVideoResponse"
                        }
                    }
                }
            }
        },
        "/api/chat/history": {
            "get": {
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "chat"
                ],
                "summary": "Get chat history with a peer",
                "parameters": [
                    {
                        "type": "string",
                        "description": "Peer ID",
                        "name": "peer_id",
                        "in": "query",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "type": "array",
                            "items": {
                                "$ref": "#/definitions/storage.ChatMessage"
                            }
                        }
                    }
                }
            },
            "delete": {
                "tags": [
                    "chat"
                ],
                "summary": "Clear chat history with a peer",
                "parameters": [
                    {
                        "type": "string",
                        "description": "Peer ID",
                        "name": "peer_id",
                        "in": "query",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/routes.statusOK"
                        }
                    }
                }
            }
        },
        "/api/data/delete": {
            "post": {
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "data"
                ],
                "summary": "Delete rows from a table",
                "parameters": [
                    {
                        "description": "Delete request",
                        "name": "body",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/routes.dataDeleteRequest"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "type": "object",
                            "additionalProperties": true
                        }
                    }
                }
            }
        },
        "/api/data/insert": {
            "post": {
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "data"
                ],
                "summary": "Insert a row into a table",
                "parameters": [
                    {
                        "description": "Insert request",
                        "name": "body",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/routes.dataInsertRequest"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "type": "object",
                            "additionalProperties": true
                        }
                    }
                }
            }
        },
        "/api/data/query": {
            "post": {
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "data"
                ],
                "summary": "Query rows from a table",
                "parameters": [
                    {
                        "description": "Query request",
                        "name": "body",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/routes.dataQueryRequest"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "type": "array",
                            "items": {
                                "type": "object",
                                "additionalProperties": true
                            }
                        }
                    }
                }
            }
        },
        "/api/data/tables": {
            "get": {
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "data"
                ],
                "summary": "List SQLite tables with schema and policies",
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "type": "array",
                            "items": {
                                "type": "object",
                                "additionalProperties": true
                            }
                        }
                    }
                }
            }
        },
        "/api/data/tables/add-column": {
            "post": {
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "data"
                ],
                "summary": "Add a column to a table",
                "parameters": [
                    {
                        "description": "Add column request",
                        "name": "body",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/routes.dataColumnRequest"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/routes.statusOK"
                        }
                    }
                }
            }
        },
        "/api/data/tables/create": {
            "post": {
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "data"
                ],
                "summary": "Create a new SQLite table",
                "parameters": [
                    {
                        "description": "Create request",
                        "name": "body",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/routes.dataTableCreateRequest"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/routes.statusOK"
                        }
                    }
                }
            }
        },
        "/api/data/tables/delete": {
            "post": {
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "data"
                ],
                "summary": "Drop a table",
                "parameters": [
                    {
                        "description": "Table name",
                        "name": "body",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/routes.dataTableRequest"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/routes.statusOK"
                        }
                    }
                }
            }
        },
        "/api/data/tables/describe": {
            "post": {
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "data"
                ],
                "summary": "Describe a table's schema and policy",
                "parameters": [
                    {
                        "description": "Table name",
                        "name": "body",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/routes.dataTableRequest"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "type": "object",
                            "additionalProperties": true
                        }
                    }
                }
            }
        },
        "/api/data/tables/drop-column": {
            "post": {
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "data"
                ],
                "summary": "Drop a column from a table",
                "parameters": [
                    {
                        "description": "Drop column request",
                        "name": "body",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/routes.dataColumnRequest"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/routes.statusOK"
                        }
                    }
                }
            }
        },
        "/api/data/tables/rename": {
            "post": {
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "data"
                ],
                "summary": "Rename a table",
                "parameters": [
                    {
                        "description": "Rename request",
                        "name": "body",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/routes.dataRenameRequest"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/routes.statusOK"
                        }
                    }
                }
            }
        },
        "/api/data/tables/set-policy": {
            "post": {
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "data"
                ],
                "summary": "Set sharing policy for a table (private, group, public)",
                "parameters": [
                    {
                        "description": "Policy request",
                        "name": "body",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/routes.dataPolicyRequest"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/routes.statusOK"
                        }
                    }
                }
            }
        },
        "/api/data/update": {
            "post": {
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "data"
                ],
                "summary": "Update rows in a table",
                "parameters": [
                    {
                        "description": "Update request",
                        "name": "body",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/routes.dataUpdateRequest"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "type": "object",
                            "additionalProperties": true
                        }
                    }
                }
            }
        },
        "/api/docs/browse": {
            "get": {
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "docs"
                ],
                "summary": "Aggregate file lists from all group members (parallel fetch)",
                "parameters": [
                    {
                        "type": "string",
                        "description": "Group ID",
                        "name": "group_id",
                        "in": "query",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "type": "object",
                            "additionalProperties": true
                        }
                    }
                }
            }
        },
        "/api/docs/delete": {
            "post": {
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "docs"
                ],
                "summary": "Delete a shared file (local access only)",
                "parameters": [
                    {
                        "description": "Delete request",
                        "name": "body",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/routes.docsDeleteRequest"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/routes.statusOK"
                        }
                    }
                }
            }
        },
        "/api/docs/download": {
            "get": {
                "tags": [
                    "docs"
                ],
                "summary": "Download a file (local store or proxied from remote peer)",
                "parameters": [
                    {
                        "type": "string",
                        "description": "Group ID",
                        "name": "group_id",
                        "in": "query",
                        "required": true
                    },
                    {
                        "type": "string",
                        "description": "Filename",
                        "name": "file",
                        "in": "query",
                        "required": true
                    },
                    {
                        "type": "string",
                        "description": "Peer ID (empty = self)",
                        "name": "peer_id",
                        "in": "query"
                    },
                    {
                        "type": "string",
                        "description": "Pass '1' for Content-Disposition: inline",
                        "name": "inline",
                        "in": "query"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "File content",
                        "schema": {
                            "type": "string"
                        }
                    }
                }
            }
        },
        "/api/docs/my": {
            "get": {
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "docs"
                ],
                "summary": "List my shared files for a group",
                "parameters": [
                    {
                        "type": "string",
                        "description": "Group ID",
                        "name": "group_id",
                        "in": "query",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "type": "object",
                            "additionalProperties": true
                        }
                    }
                }
            }
        },
        "/api/docs/upload": {
            "post": {
                "consumes": [
                    "multipart/form-data"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "docs"
                ],
                "summary": "Upload a file to share with the group (multipart)",
                "parameters": [
                    {
                        "type": "string",
                        "description": "Group ID",
                        "name": "group_id",
                        "in": "formData",
                        "required": true
                    },
                    {
                        "type": "file",
                        "description": "File to upload (max 50 MB)",
                        "name": "file",
                        "in": "formData",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "type": "object",
                            "additionalProperties": true
                        }
                    }
                }
            }
        },
        "/api/groups": {
            "get": {
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "groups"
                ],
                "summary": "List hosted groups with live member data",
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "type": "array",
                            "items": {
                                "type": "object",
                                "additionalProperties": true
                            }
                        }
                    }
                }
            },
            "post": {
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "groups"
                ],
                "summary": "Create a new hosted group",
                "parameters": [
                    {
                        "description": "Create request",
                        "name": "body",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/routes.groupCreateRequest"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/routes.groupCreateResponse"
                        }
                    }
                }
            }
        },
        "/api/groups/close": {
            "post": {
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "groups"
                ],
                "summary": "Close and delete a hosted group (broadcasts group:close via MQ to all members)",
                "parameters": [
                    {
                        "description": "Group ID",
                        "name": "body",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/routes.groupIDRequest"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/routes.statusOK"
                        }
                    }
                }
            }
        },
        "/api/groups/invite": {
            "post": {
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "groups"
                ],
                "summary": "Invite a peer to a hosted group (sends group.invite via MQ)",
                "parameters": [
                    {
                        "description": "Invite request",
                        "name": "body",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/routes.groupPeerRequest"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/routes.statusOK"
                        }
                    }
                }
            }
        },
        "/api/groups/join": {
            "post": {
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "groups"
                ],
                "summary": "Join a remote group as a member (sends group:join via MQ)",
                "parameters": [
                    {
                        "description": "Join request",
                        "name": "body",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/routes.groupHostJoinRequest"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/routes.statusOK"
                        }
                    }
                }
            }
        },
        "/api/groups/join-own": {
            "post": {
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "groups"
                ],
                "summary": "Host joins own group as a member",
                "parameters": [
                    {
                        "description": "Group ID",
                        "name": "body",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/routes.groupIDRequest"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/routes.statusOK"
                        }
                    }
                }
            }
        },
        "/api/groups/kick": {
            "post": {
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "groups"
                ],
                "summary": "Kick a member from a hosted group",
                "parameters": [
                    {
                        "description": "Kick request",
                        "name": "body",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/routes.groupPeerRequest"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/routes.statusOK"
                        }
                    }
                }
            }
        },
        "/api/groups/leave": {
            "post": {
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "groups"
                ],
                "summary": "Leave a group as a member (sends group:leave via MQ)",
                "parameters": [
                    {
                        "description": "Group ID",
                        "name": "body",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/routes.groupIDRequest"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/routes.statusOK"
                        }
                    }
                }
            }
        },
        "/api/groups/leave-own": {
            "post": {
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "groups"
                ],
                "summary": "Host leaves own group",
                "parameters": [
                    {
                        "description": "Group ID",
                        "name": "body",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/routes.groupIDRequest"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/routes.statusOK"
                        }
                    }
                }
            }
        },
        "/api/groups/max-members": {
            "post": {
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "groups"
                ],
                "summary": "Update max member limit for a hosted group",
                "parameters": [
                    {
                        "description": "Max members request",
                        "name": "body",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/routes.groupMaxMembersRequest"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/routes.statusOK"
                        }
                    }
                }
            }
        },
        "/api/groups/meta": {
            "post": {
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "groups"
                ],
                "summary": "Update group name and/or max_members (broadcasts group:meta via MQ)",
                "parameters": [
                    {
                        "description": "Meta request",
                        "name": "body",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/routes.groupMetaRequest"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/routes.statusOK"
                        }
                    }
                }
            }
        },
        "/api/groups/rejoin": {
            "post": {
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "groups"
                ],
                "summary": "Rejoin a previously joined group",
                "parameters": [
                    {
                        "description": "Rejoin request",
                        "name": "body",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/routes.groupHostJoinRequest"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/routes.statusOK"
                        }
                    }
                }
            }
        },
        "/api/groups/send": {
            "post": {
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "groups"
                ],
                "summary": "Send a payload to a group (host broadcasts, member sends to host)",
                "parameters": [
                    {
                        "description": "Send request",
                        "name": "body",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/routes.groupSendRequest"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/routes.statusOK"
                        }
                    }
                }
            }
        },
        "/api/groups/subscriptions": {
            "get": {
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "groups"
                ],
                "summary": "List group subscriptions (member side) with host reachability",
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "type": "object",
                            "additionalProperties": true
                        }
                    }
                }
            }
        },
        "/api/groups/subscriptions/remove": {
            "post": {
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "groups"
                ],
                "summary": "Remove a stale subscription record",
                "parameters": [
                    {
                        "description": "Remove request",
                        "name": "body",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/routes.groupHostJoinRequest"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/routes.statusOK"
                        }
                    }
                }
            }
        },
        "/api/listen/close": {
            "post": {
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "listen"
                ],
                "summary": "Host closes the listen group",
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/routes.statusOK"
                        }
                    }
                }
            }
        },
        "/api/listen/control": {
            "post": {
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "listen"
                ],
                "summary": "Playback control — play, pause, seek, next, prev, skip, remove",
                "parameters": [
                    {
                        "description": "Control request",
                        "name": "body",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/routes.listenControlRequest"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/routes.statusOK"
                        }
                    }
                }
            }
        },
        "/api/listen/create": {
            "post": {
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "listen"
                ],
                "summary": "Host creates a listen group",
                "parameters": [
                    {
                        "description": "Create request",
                        "name": "body",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/routes.listenCreateRequest"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "type": "object",
                            "additionalProperties": true
                        }
                    }
                }
            }
        },
        "/api/listen/join": {
            "post": {
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "listen"
                ],
                "summary": "Listener joins a group",
                "parameters": [
                    {
                        "description": "Join request",
                        "name": "body",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/routes.listenJoinRequest"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/routes.statusOK"
                        }
                    }
                }
            }
        },
        "/api/listen/leave": {
            "post": {
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "listen"
                ],
                "summary": "Listener leaves the current group",
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/routes.statusOK"
                        }
                    }
                }
            }
        },
        "/api/listen/load": {
            "post": {
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "listen"
                ],
                "summary": "Load MP3 file(s) as playlist (local access only)",
                "parameters": [
                    {
                        "description": "Load request",
                        "name": "body",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/routes.listenLoadRequest"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "type": "object",
                            "additionalProperties": true
                        }
                    }
                }
            }
        },
        "/api/listen/queue/add": {
            "post": {
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "listen"
                ],
                "summary": "Append files to the playlist (local access only)",
                "parameters": [
                    {
                        "description": "Queue add request",
                        "name": "body",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/routes.listenQueueAddRequest"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/routes.statusOK"
                        }
                    }
                }
            }
        },
        "/api/listen/state": {
            "get": {
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "listen"
                ],
                "summary": "Current listen group state",
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "type": "object",
                            "additionalProperties": true
                        }
                    }
                }
            }
        },
        "/api/listen/stream": {
            "get": {
                "description": "Chunked streaming response (audio/mpeg). Connect an HTML audio element src directly to this URL.",
                "produces": [
                    "audio/mpeg"
                ],
                "tags": [
                    "listen"
                ],
                "summary": "Live MP3 audio stream",
                "responses": {
                    "200": {
                        "description": "Chunked audio stream",
                        "schema": {
                            "type": "string"
                        }
                    }
                }
            }
        },
        "/api/logs": {
            "get": {
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "logs"
                ],
                "summary": "Snapshot of recent Go process log lines",
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "type": "array",
                            "items": {
                                "type": "object",
                                "additionalProperties": {
                                    "type": "string"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/logs/client": {
            "post": {
                "consumes": [
                    "application/json"
                ],
                "tags": [
                    "logs"
                ],
                "summary": "Sink for browser-side log messages",
                "parameters": [
                    {
                        "description": "Log entry",
                        "name": "body",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/routes.clientLogRequest"
                        }
                    }
                ],
                "responses": {
                    "204": {
                        "description": "Accepted"
                    }
                }
            }
        },
        "/api/logs/stream": {
            "get": {
                "produces": [
                    "text/event-stream"
                ],
                "tags": [
                    "logs"
                ],
                "summary": "SSE stream of new Go process log lines",
                "responses": {
                    "200": {
                        "description": "SSE stream",
                        "schema": {
                            "type": "string"
                        }
                    }
                }
            }
        },
        "/api/mq/ack": {
            "post": {
                "description": "Called by the browser after processing an incoming MQ message.\\nRelays an application-level ACK to the sender.\\nIf from_peer_id is empty (PublishLocal event) the ACK is silently dropped.",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "mq"
                ],
                "summary": "Acknowledge a received MQ message",
                "parameters": [
                    {
                        "description": "Ack request",
                        "name": "body",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/routes.mqAckRequest"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/routes.statusOK"
                        }
                    }
                }
            }
        },
        "/api/mq/events": {
            "get": {
                "description": "THE single browser event stream. Every incoming P2P MQ message and every PublishLocal event arrives here.\\nEvent frames are SSE 'message' events with JSON body: {type, msg:{id,seq,topic,payload}, from}.\\nKeep-alive: the stream never closes unless the server shuts down or the browser disconnects.",
                "produces": [
                    "text/event-stream"
                ],
                "tags": [
                    "mq"
                ],
                "summary": "SSE stream — incoming MQ messages and delivery receipts",
                "responses": {
                    "200": {
                        "description": "SSE stream",
                        "schema": {
                            "type": "string"
                        }
                    }
                }
            }
        },
        "/api/mq/send": {
            "post": {
                "description": "Delivers the payload to the remote peer over the MQ P2P protocol.\\nBlocks until the peer sends a transport ACK (up to 30 s).\\nTopic convention: call:{channelId}, group:{groupId}:{type}, group.invite, chat, chat.broadcast",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "mq"
                ],
                "summary": "Send an MQ message to a peer",
                "parameters": [
                    {
                        "description": "Send request",
                        "name": "body",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/routes.mqSendRequest"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/routes.mqSendResponse"
                        }
                    },
                    "400": {
                        "description": "missing peer_id or topic",
                        "schema": {
                            "type": "string"
                        }
                    },
                    "504": {
                        "description": "peer unreachable within 30 s",
                        "schema": {
                            "type": "string"
                        }
                    }
                }
            }
        },
        "/api/openapi.json": {
            "get": {
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "logs"
                ],
                "summary": "This OpenAPI 3.0 spec (generated by swaggo/swag)",
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "type": "object",
                            "additionalProperties": true
                        }
                    }
                }
            }
        },
        "/api/peer/content": {
            "get": {
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "peers"
                ],
                "summary": "Fetch a remote peer's site content (HTML string)",
                "parameters": [
                    {
                        "type": "string",
                        "description": "Peer ID",
                        "name": "id",
                        "in": "query",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "type": "object",
                            "additionalProperties": {
                                "type": "string"
                            }
                        }
                    }
                }
            }
        },
        "/api/peers": {
            "get": {
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "peers"
                ],
                "summary": "List all known peers with metadata",
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "type": "array",
                            "items": {
                                "type": "object",
                                "additionalProperties": true
                            }
                        }
                    }
                }
            }
        },
        "/api/peers/favorite": {
            "post": {
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "peers"
                ],
                "summary": "Toggle favorite flag for a peer",
                "parameters": [
                    {
                        "description": "{ peer_id, favorite }",
                        "name": "body",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "type": "object",
                            "additionalProperties": true
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/routes.statusOK"
                        }
                    }
                }
            }
        },
        "/api/peers/probe": {
            "post": {
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "peers"
                ],
                "summary": "Probe all known peers for reachability",
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/routes.statusOK"
                        }
                    }
                }
            }
        },
        "/api/self": {
            "get": {
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "peers"
                ],
                "summary": "This peer's own identity and metadata",
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "type": "object",
                            "additionalProperties": true
                        }
                    }
                }
            }
        },
        "/api/services/check": {
            "get": {
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "settings"
                ],
                "summary": "Check a single service URL (pre-save validation)",
                "parameters": [
                    {
                        "type": "string",
                        "description": "Service base URL",
                        "name": "url",
                        "in": "query",
                        "required": true
                    },
                    {
                        "type": "string",
                        "description": "Service type: registration, credits, email, templates",
                        "name": "type",
                        "in": "query"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "type": "object",
                            "additionalProperties": true
                        }
                    }
                }
            }
        },
        "/api/services/health": {
            "get": {
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "settings"
                ],
                "summary": "Ping all configured external services",
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "type": "object",
                            "additionalProperties": true
                        }
                    }
                }
            }
        },
        "/api/settings/quick": {
            "post": {
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "settings"
                ],
                "summary": "Partial settings update — only provided (non-null) fields are written",
                "parameters": [
                    {
                        "description": "Partial settings",
                        "name": "body",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/routes.quickSettingsRequest"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/routes.statusOK"
                        }
                    }
                }
            }
        },
        "/api/settings/quick/get": {
            "get": {
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "settings"
                ],
                "summary": "Read current quick settings (label, email, theme, device prefs, flags)",
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/routes.quickSettingsResponse"
                        }
                    }
                }
            }
        },
        "/api/topology": {
            "get": {
                "description": "Returns this peer's view of the network: self node, relay node (if configured), and all known peers with connection type (direct/relay/none).",
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "peers"
                ],
                "summary": "Network topology graph data",
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/routes.topologyResponse"
                        }
                    },
                    "503": {
                        "description": "no p2p node",
                        "schema": {
                            "type": "string"
                        }
                    }
                }
            }
        }
    },
    "definitions": {
        "routes.callChannelRequest": {
            "type": "object",
            "properties": {
                "channel_id": {
                    "type": "string",
                    "example": "nc-abc123"
                }
            }
        },
        "routes.callModeResponse": {
            "type": "object",
            "properties": {
                "first": {
                    "type": "boolean"
                },
                "mode": {
                    "type": "string",
                    "example": "native"
                },
                "platform": {
                    "type": "string",
                    "example": "linux"
                }
            }
        },
        "routes.callMuteResponse": {
            "type": "object",
            "properties": {
                "muted": {
                    "type": "boolean"
                }
            }
        },
        "routes.callSessionStatus": {
            "type": "object",
            "properties": {
                "audio_on": {
                    "type": "boolean"
                },
                "channel_id": {
                    "type": "string"
                },
                "hung": {
                    "type": "boolean"
                },
                "is_origin": {
                    "type": "boolean"
                },
                "pc_state": {
                    "type": "string"
                },
                "remote_peer": {
                    "type": "string"
                },
                "video_on": {
                    "type": "boolean"
                }
            }
        },
        "routes.callStartRequest": {
            "type": "object",
            "properties": {
                "channel_id": {
                    "type": "string",
                    "example": "nc-abc123"
                },
                "remote_peer": {
                    "type": "string",
                    "example": "12D3KooWXxx..."
                }
            }
        },
        "routes.callStartResponse": {
            "type": "object",
            "properties": {
                "channel_id": {
                    "type": "string",
                    "example": "nc-abc123"
                },
                "status": {
                    "type": "string",
                    "example": "started"
                }
            }
        },
        "routes.callVideoResponse": {
            "type": "object",
            "properties": {
                "disabled": {
                    "type": "boolean"
                }
            }
        },
        "routes.clientLogRequest": {
            "type": "object",
            "properties": {
                "level": {
                    "type": "string",
                    "example": "warn"
                },
                "message": {
                    "type": "string",
                    "example": "getUserMedia failed"
                },
                "source": {
                    "type": "string",
                    "example": "call"
                }
            }
        },
        "routes.dataColumnRequest": {
            "type": "object",
            "properties": {
                "column": {},
                "table": {
                    "type": "string",
                    "example": "my_table"
                }
            }
        },
        "routes.dataDeleteRequest": {
            "type": "object",
            "properties": {
                "filter": {
                    "type": "object",
                    "additionalProperties": {}
                },
                "table": {
                    "type": "string",
                    "example": "my_table"
                }
            }
        },
        "routes.dataInsertRequest": {
            "type": "object",
            "properties": {
                "row": {
                    "type": "object",
                    "additionalProperties": {}
                },
                "table": {
                    "type": "string",
                    "example": "my_table"
                }
            }
        },
        "routes.dataPolicyRequest": {
            "type": "object",
            "properties": {
                "policy": {
                    "type": "string",
                    "example": "group"
                },
                "table": {
                    "type": "string",
                    "example": "my_table"
                }
            }
        },
        "routes.dataQueryRequest": {
            "type": "object",
            "properties": {
                "filter": {
                    "type": "object",
                    "additionalProperties": {}
                },
                "limit": {
                    "type": "integer",
                    "example": 100
                },
                "table": {
                    "type": "string",
                    "example": "my_table"
                }
            }
        },
        "routes.dataRenameRequest": {
            "type": "object",
            "properties": {
                "new_name": {
                    "type": "string",
                    "example": "new_name"
                },
                "table": {
                    "type": "string",
                    "example": "my_table"
                }
            }
        },
        "routes.dataTableCreateRequest": {
            "type": "object",
            "properties": {
                "columns": {
                    "type": "array",
                    "items": {}
                },
                "name": {
                    "type": "string",
                    "example": "my_table"
                }
            }
        },
        "routes.dataTableRequest": {
            "type": "object",
            "properties": {
                "table": {
                    "type": "string",
                    "example": "my_table"
                }
            }
        },
        "routes.dataUpdateRequest": {
            "type": "object",
            "properties": {
                "filter": {
                    "type": "object",
                    "additionalProperties": {}
                },
                "set": {
                    "type": "object",
                    "additionalProperties": {}
                },
                "table": {
                    "type": "string",
                    "example": "my_table"
                }
            }
        },
        "routes.docsDeleteRequest": {
            "type": "object",
            "properties": {
                "filename": {
                    "type": "string",
                    "example": "notes.pdf"
                },
                "group_id": {
                    "type": "string",
                    "example": "a1b2c3d4e5f6a1b2"
                }
            }
        },
        "routes.groupCreateRequest": {
            "type": "object",
            "properties": {
                "app_type": {
                    "type": "string"
                },
                "max_members": {
                    "type": "integer"
                },
                "name": {
                    "type": "string",
                    "example": "My Group"
                },
                "volatile": {
                    "type": "boolean"
                }
            }
        },
        "routes.groupCreateResponse": {
            "type": "object",
            "properties": {
                "id": {
                    "type": "string",
                    "example": "a1b2c3d4e5f6a1b2"
                },
                "status": {
                    "type": "string",
                    "example": "created"
                }
            }
        },
        "routes.groupHostJoinRequest": {
            "type": "object",
            "properties": {
                "group_id": {
                    "type": "string",
                    "example": "a1b2c3d4e5f6a1b2"
                },
                "host_peer_id": {
                    "type": "string",
                    "example": "12D3KooWXxx..."
                }
            }
        },
        "routes.groupIDRequest": {
            "type": "object",
            "properties": {
                "group_id": {
                    "type": "string",
                    "example": "a1b2c3d4e5f6a1b2"
                }
            }
        },
        "routes.groupMaxMembersRequest": {
            "type": "object",
            "properties": {
                "group_id": {
                    "type": "string",
                    "example": "a1b2c3d4e5f6a1b2"
                },
                "max_members": {
                    "type": "integer",
                    "example": 20
                }
            }
        },
        "routes.groupMetaRequest": {
            "type": "object",
            "properties": {
                "group_id": {
                    "type": "string",
                    "example": "a1b2c3d4e5f6a1b2"
                },
                "max_members": {
                    "type": "integer",
                    "example": 20
                },
                "name": {
                    "type": "string",
                    "example": "New Name"
                }
            }
        },
        "routes.groupPeerRequest": {
            "type": "object",
            "properties": {
                "group_id": {
                    "type": "string",
                    "example": "a1b2c3d4e5f6a1b2"
                },
                "peer_id": {
                    "type": "string",
                    "example": "12D3KooWXxx..."
                }
            }
        },
        "routes.groupSendRequest": {
            "type": "object",
            "properties": {
                "group_id": {
                    "type": "string",
                    "example": "a1b2c3d4e5f6a1b2"
                },
                "payload": {}
            }
        },
        "routes.listenControlRequest": {
            "type": "object",
            "properties": {
                "action": {
                    "type": "string",
                    "example": "play"
                },
                "index": {
                    "type": "integer",
                    "example": 2
                },
                "position": {
                    "type": "number",
                    "example": 42.5
                }
            }
        },
        "routes.listenCreateRequest": {
            "type": "object",
            "properties": {
                "name": {
                    "type": "string",
                    "example": "My Listen Group"
                }
            }
        },
        "routes.listenJoinRequest": {
            "type": "object",
            "properties": {
                "group_id": {
                    "type": "string",
                    "example": "a1b2c3d4e5f6a1b2"
                },
                "host_peer_id": {
                    "type": "string",
                    "example": "12D3KooWXxx..."
                }
            }
        },
        "routes.listenLoadRequest": {
            "type": "object",
            "properties": {
                "file_path": {
                    "type": "string"
                },
                "file_paths": {
                    "type": "array",
                    "items": {
                        "type": "string"
                    }
                }
            }
        },
        "routes.listenQueueAddRequest": {
            "type": "object",
            "properties": {
                "file_paths": {
                    "type": "array",
                    "items": {
                        "type": "string"
                    }
                }
            }
        },
        "routes.loopbackICERequest": {
            "type": "object",
            "properties": {
                "candidate": {
                    "type": "string"
                },
                "sdpMLineIndex": {
                    "type": "integer"
                },
                "sdpMid": {
                    "type": "string"
                }
            }
        },
        "routes.loopbackOfferRequest": {
            "type": "object",
            "properties": {
                "sdp": {
                    "type": "string"
                }
            }
        },
        "routes.loopbackOfferResponse": {
            "type": "object",
            "properties": {
                "sdp": {
                    "type": "string"
                }
            }
        },
        "routes.mqAckRequest": {
            "type": "object",
            "properties": {
                "from_peer_id": {
                    "type": "string",
                    "example": "12D3KooWXxx..."
                },
                "msg_id": {
                    "type": "string",
                    "example": "a1b2c3d4-..."
                }
            }
        },
        "routes.mqSendRequest": {
            "type": "object",
            "properties": {
                "msg_id": {
                    "type": "string",
                    "example": "uuid-optional"
                },
                "payload": {},
                "peer_id": {
                    "type": "string",
                    "example": "12D3KooWXxx..."
                },
                "topic": {
                    "type": "string",
                    "example": "call:nc-abc123"
                }
            }
        },
        "routes.mqSendResponse": {
            "type": "object",
            "properties": {
                "msg_id": {
                    "type": "string",
                    "example": "a1b2c3d4-..."
                },
                "status": {
                    "type": "string",
                    "example": "delivered"
                }
            }
        },
        "routes.quickSettingsRequest": {
            "type": "object",
            "properties": {
                "email": {
                    "type": "string"
                },
                "hide_unverified": {
                    "type": "boolean"
                },
                "label": {
                    "type": "string"
                },
                "open_sites_external": {
                    "type": "boolean"
                },
                "preferred_cam": {
                    "type": "string"
                },
                "preferred_mic": {
                    "type": "string"
                },
                "theme": {
                    "type": "string"
                },
                "use_services": {
                    "type": "boolean"
                },
                "verification_token": {
                    "type": "string"
                },
                "video_disabled": {
                    "type": "boolean"
                }
            }
        },
        "routes.quickSettingsResponse": {
            "type": "object",
            "properties": {
                "email": {
                    "type": "string"
                },
                "hide_unverified": {
                    "type": "boolean"
                },
                "label": {
                    "type": "string"
                },
                "open_sites_external": {
                    "type": "boolean"
                },
                "preferred_cam": {
                    "type": "string"
                },
                "preferred_mic": {
                    "type": "string"
                },
                "theme": {
                    "type": "string"
                },
                "verification_token": {
                    "type": "string"
                },
                "video_disabled": {
                    "type": "boolean"
                }
            }
        },
        "routes.statusOK": {
            "type": "object",
            "properties": {
                "status": {
                    "type": "string",
                    "example": "ok"
                }
            }
        },
        "routes.topologyNode": {
            "type": "object",
            "properties": {
                "addr": {
                    "type": "string",
                    "example": "/ip4/1.2.3.4/tcp/4001"
                },
                "has_circuit": {
                    "type": "boolean",
                    "example": true
                },
                "id": {
                    "type": "string",
                    "example": "12D3KooWXxx..."
                },
                "label": {
                    "type": "string",
                    "example": "EggMan"
                }
            }
        },
        "routes.topologyPeer": {
            "type": "object",
            "properties": {
                "addr": {
                    "type": "string",
                    "example": "/ip4/192.168.1.42/tcp/4001"
                },
                "age": {
                    "type": "string",
                    "example": "3m24s"
                },
                "connection": {
                    "type": "string",
                    "example": "direct"
                },
                "id": {
                    "type": "string",
                    "example": "12D3KooWXxx..."
                },
                "label": {
                    "type": "string",
                    "example": "Roadwarrior"
                },
                "reachable": {
                    "type": "boolean",
                    "example": true
                },
                "streams": {
                    "type": "integer",
                    "example": 5
                }
            }
        },
        "routes.topologyResponse": {
            "type": "object",
            "properties": {
                "peers": {
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/routes.topologyPeer"
                    }
                },
                "relay": {
                    "$ref": "#/definitions/routes.topologyNode"
                },
                "self": {
                    "$ref": "#/definitions/routes.topologyNode"
                }
            }
        },
        "storage.ChatMessage": {
            "type": "object",
            "properties": {
                "content": {
                    "type": "string"
                },
                "from": {
                    "type": "string"
                },
                "timestamp": {
                    "type": "integer"
                }
            }
        }
    }
}